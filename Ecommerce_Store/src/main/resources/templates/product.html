<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">

<section>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-2 mt-1 p-0">
				<div class="card p-0 mb-5 border-0">
					<div class="card-body">
						<div class="list-group border-0">
							<p class="fs-3">Category</p>
							<a href="/products" class="list-group-item list-group-item-action border-0"
								th:classappend="${currentCategory == ''} ? 'active' : ''" aria-current="true"> All </a>

							<a href="#" th:each="category : ${allCategory}"
								th:href="@{'/products?category='+${category.categoryName}}"
								th:classappend="${currentCategory == category.categoryName} ? 'active' : '' "
								class="list-group-item list-group-item-action border-0 border-top">[[${category.categoryName}]]</a>

						</div>
					</div>
				</div>
			</div>

			<div class="col-md-10">
				<div class=" mt-1 p-3 mb-5">
					<div class="card-body">
						<div class="row">
							<th:block th:if="${allProducts.size > 0}">
								<div class="col-md-3" th:each="product : ${allProducts}">
									<div class="card">
										<div class="card-body">
											<img alt="product_image"
												th:src="@{'img/product_image/'+${product.productImage}}" width="100%"
												height="150px">
											<p class="fs-5 text-center">[[${product.productName}]]</p>

											<div class="row text-center">
												<p class="fs-6 fw-bold">
													<span class="text-decoration-line-through text-secondary">
														&#2547; [[${product.productPrice}]]</span>
												</p>
												<a th:href="@{'/product/'+${product.id}}"
													class="btn btn-danger col-md-6 offset-md-3 ">Details</a>
											</div>
										</div>
									</div>
								</div>
							</th:block>
							<th:block th:unless="${allProducts.size > 0}">
								<p class="fs-3 text-danger mt-3 text-center border-0">No Products Found!</p>
							</th:block>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

</html>